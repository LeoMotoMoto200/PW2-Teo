
<div class="ash">
  <h2>{{ name }}</h2>
  <h2>{{ email }}</h2>
  <a href="{{ webpage }}" target="_blank">Visita mi sitio Web</a>
  
  <hr>

  <button (click)="toggleHobbies()" class="btn">
    {{ showHobbies ? 'Ocultar Hobbies' : 'Mostrar Hobbies' }}
  </button>

  <div *ngIf="showHobbies" class="component2">
    <h3>Hobbies:</h3>
    <ul>
      <li *ngFor="let hobby of hobbies">{{ hobby }}</li>
    </ul>

    <form (submit)="newHobby(hobbyInput)">
      <input #hobbyInput type="text" placeholder="Añade un hobby">
      <button type="submit">Agregar</button>
    </form>

    <!-- src/app/home/home.component.html -->
<div class="container">
  <h1>Posts de la API</h1>
  <p>Esta es una lista de posts traídos desde una API externa.</p>
  
  <ul class="post-list" *ngIf="posts.length > 0; else loading">
    <li *ngFor="let post of posts">
      <h3>{{ post.title }}</h3>
      <p>{{ post.body }}</p>
    </li>
  </ul>

  <ng-template #loading>
    <p>Cargando datos...</p>
  </ng-template>
</div>
<hr>
<h2>Lista de Usuarios (con Componente Reutilizable):</h2>
<ul>
  <!-- Hacemos un bucle sobre la lista 'users' -->
<li *ngFor="let user of users">
  <app-user
    [nameUser]="user"
    (userClicked)="onUserSelected($event)"
    (deleteRequest)="deleteUser($event)">
  </app-user>
</li>
</ul>
<hr>
<h2>Two-Way Data Binding con ngModel</h2>

<div class="data-binding-form">
  <div>
    <label>Nombre:</label>
    <!-- Aquí está la magia: [(ngModel)] conecta este input a la propiedad 'name' -->
    <input type="text" [(ngModel)]="name">
  </div>
  <div>
    <label>Edad:</label>
    <input type="number" [(ngModel)]="age">
  </div>
</div>

<!-- Mostramos los valores para ver cómo cambian en tiempo real -->
<h3>Valores actuales:</h3>
<p><strong>Nombre:</strong> {{ name }}</p>
<p><strong>Edad:</strong> {{ age }}</p>

<hr>
<h2>Galería de Videos</h2>

<!-- Hacemos un bucle sobre nuestra lista de videos -->
<div *ngFor="let video of videos" class="video-container">
  <h4>{{ video.title }}</h4>

  <!--
    Aquí está la magia combinada:
    1. Construimos la URL completa para incrustar el video de YouTube.
    2. Usamos el pipe '| safe' que creamos. Este pipe tomará la URL
       y le devolverá a Angular una versión "sanitizada" en la que confía.
    3. Usamos [src] (Property Binding) para asignar esa URL segura al atributo 'src' del iframe.
  -->
  <iframe width="560" height="315"
          [src]="'https://www.youtube.com/embed/' + video.id | safe"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
  </iframe>
</div>
</div>